!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("lodash"),require("backbone")):"function"==typeof define&&define.amd?define(["lodash","backbone"],e):t.Metal=e(t._,t.Backbone)}(this,function(t,e){"use strict";function n(t,e){return function(){var n=this._super;this._super=e;var r=t.apply(this,arguments);return this._super=n,r}}function r(e,r){var o,s,c,a,u,p=t.keys(r),f=p.length;for(o=0;f>o;o++)s=p[o],c=r[s],a=e[s],u=i.test(c),e[s]=u&&t.isFunction(c)&&t.isFunction(a)?n(c,a):c}var o=e.Metal={},i=/xyz/.test(new Function("xyz"))?/\b_super\b/:/.*/,s=o.Class=function(){var t;(t=this).initialize.apply(t,arguments)};s.prototype.initialize=t.noop,t.extend(s,{extend:function(e,o){var s,c=this;s=e&&t.has(e,"constructor")?i.test(e.constructor)?n(e.constructor,c.prototype.constructor):e.constructor:function(){c.apply(this,arguments)},t.extend(s,c),o&&r(s,o);var a=function(){this.constructor=s};return a.prototype=c.prototype,s.prototype=new a,e&&r(s.prototype,e),s.superclass=c,s.__super__=c.prototype,s},mixin:function(t){return r(this.prototype,t),this},include:function(t){return r(this,t),this},isClass:function(t){return!!t&&(t instanceof s||t.prototype instanceof s||t===s)}});var c=o.Mixin=function(e){t.extend(this,e)};c.isMixin=function(t){return!!t&&t instanceof c};var a=["description","fileName","lineNumber","name","message","number"],u=o.Error=s.extend.call(Error,{constructor:function(e){var n=void 0===arguments[1]?{}:arguments[1];t.isObject(e)&&(n=e,e=n.message);var r=Error.call(this,e);t.extend(this,t.pick(r,a),t.pick(n,a)),u.captureStackTrace(this,u)},toString:function(){return""+this.name+": "+this.message}},{captureStackTrace:function(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}});t.extend(u,s);var p=o.deprecate=function(e,n){void 0!==n&&n||(t.isObject(e)&&(e=p._format(e.prev,e.next)),e=e&&e.toString(),p._cache[e]||(p._warn("Deprecation warning: "+e),p._cache[e]=!0))};p._format=function(t,e){return""+t+" is going to be removed in the future. Please use "+e+" instead."},p._warn="undefined"!=typeof console&&(console.warn||console.log)||t.noop,p._cache={};var f=o.Events=new c(e.Events);return s.mixin(f),o});
//# sourceMappingURL=backbone-metal.min.js.map